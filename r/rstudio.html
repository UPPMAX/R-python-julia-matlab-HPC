

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using RStudio &mdash; Introduction to running R, Python, Julia and MATLAB in HPC 2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_lesson.css?v=e9df6548" />
      <link rel="stylesheet" type="text/css" href="../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=60dbed4a"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=6dbb43f8"></script>
      <script src="../_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ML with R" href="MLR.html" />
    <link rel="prev" title="Interactive work on the compute nodes" href="interactiveR.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Introduction to running R, Python, Julia and MATLAB in HPC
              <img src="../_static/hpc2n-lunarc-uppmax-hpc-course.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Pre-requirements:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prereqs.html">Pre-requirements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">COMMON:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../common/login.html">Log in session</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/ondemand-desktop.html">Desktop On Demand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/use_tarball.html">Use the tarball with exercises</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python Lessons:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/intro.html">Introduction Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/load_runPython.html">Load and run python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/packages.html">Python packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/isolated.html">Isolated environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/batchPython.html">Running Python in batch mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/GPU.html">Using GPUs with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/interactivePython.html">Interactive work on the compute nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/jupyter.html">Jupyter on compute nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/parallel.html">Parallel and multithreaded functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/condaUPPMAX.html">Conda at UPPMAX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/summaryPython.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/evaluationPython.html">Evaluation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Julia Lessons:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../julia/introJulia.html">Introduction Julia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/load_runJulia.html">Load and run Julia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/isolatedJulia.html">Packages and isolated environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/batchJulia.html">Running Julia in batch mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/parallel.html">Parallel and multithreaded functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/interactiveJulia.html">Sessions: Interactive work on compute nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/summaryJulia.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../julia/evaluationJulia.html">Evaluation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">R Lessons:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introR.html">Introduction R</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_runR.html">Load and run R</a></li>
<li class="toctree-l1"><a class="reference internal" href="packagesR.html">Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="isolatedR.html">Isolated environments with <code class="docutils literal notranslate"><span class="pre">renv</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="batchR.html">Running R in batch mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/parallel.html">Parallel and multithreaded functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactiveR.html">Interactive work on the compute nodes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using RStudio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#on-uppmax">On UPPMAX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#check-for-rstudio-versions">Check for RStudio versions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#on-bianca">On Bianca</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#on-hpc2n">On HPC2N</a></li>
<li class="toctree-l2"><a class="reference internal" href="#at-lunarc">At LUNARC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MLR.html">ML with R</a></li>
<li class="toctree-l1"><a class="reference internal" href="summaryR.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluationR.html">Evaluation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Matlab Lessons:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../matlab/introMatlab.html">Introduction to MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/load_runMatlab.html">Load and Run MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/slurmMatlab.html">Slurm job scheduler and MATLAB in terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/jobsMatlab.html">MATLAB GUI and SLURM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/parallel.html">Parallel and multithreaded functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/add_onsMatlab.html">Add-Ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/local_desktopMatlab.html">Session-UPPMAX: Matlab client on the desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/jupyterMatlab.html">Session: Matlab in Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/summaryMatlab.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab/evaluationMatlab.html">Evaluation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extra reading:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extra/isolated_extra.html">Isolated environments, extra exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="morepackages.html">More about R packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="packagesBianca.html">Packages at Bianca (parallel session)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extra/matlab.html">Extra reading about MATLAB in HPC</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Introduction to running R, Python, Julia and MATLAB in HPC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Using RStudio</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/UPPMAX/R-python-julia-MATLAB-HPC/blob/main/docs/r/rstudio.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-rstudio">
<h1>Using RStudio<a class="headerlink" href="#using-rstudio" title="Link to this heading"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using RStudio differs between different HPC clusters.</p>
<ul class="simple">
<li><p>We also recommend ThinLinc!</p></li>
</ul>
</div>
<section id="on-uppmax">
<h2>On UPPMAX<a class="headerlink" href="#on-uppmax" title="Link to this heading"></a></h2>
<p>There is a system installed version, available via the “rstudio” command (you
will get RStudio/1.1.423).</p>
<p>However, we recommend you to use a RStudio module.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We recommend ThinLinc because the graphics is more effective there!</p>
<p><strong>Using ThinLinc</strong></p>
<ul class="simple">
<li><p>ThinLinc app: <code class="docutils literal notranslate"><span class="pre">&lt;user&gt;&#64;rackham-gui.uppmax.uu.se</span></code></p></li>
<li><p>ThinLinc in web browser: <code class="docutils literal notranslate"><span class="pre">https://rackham-gui.uppmax.uu.se</span></code>   This requires 2FA!</p></li>
<li><p>Choose Xfce as the desktop environment (faster)</p></li>
<li><p>start a command line window</p></li>
</ul>
<p><strong>Using terminal</strong></p>
<ul>
<li><p>Remember to have X11 installed!</p></li>
<li><p>On Mac</p>
<blockquote>
<div><ul class="simple">
<li><p>install XQuartz</p></li>
</ul>
</div></blockquote>
</li>
<li><p>On Windows</p>
<blockquote>
<div><ul class="simple">
<li><p>Use MobaXterm or</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<section id="check-for-rstudio-versions">
<h3>Check for RStudio versions<a class="headerlink" href="#check-for-rstudio-versions" title="Link to this heading"></a></h3>
<p>Check all available  versions with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>module<span class="w"> </span>avail<span class="w"> </span>RStudio
</pre></div>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Output at UPPMAX as of March 10 2024</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[bjornc@rackham5 ~]$ </span>ml<span class="w"> </span>av<span class="w"> </span>RStudio

<span class="go">------------------------------------- /sw/mf/rackham/applications -------------------------------------</span>
<span class="go">   RStudio/1.0.136    RStudio/1.1.423     RStudio/2022.02.0-443    RStudio/2023.06.0-421</span>
<span class="go">   RStudio/1.0.143    RStudio/1.1.463     RStudio/2022.02.3-492    RStudio/2023.06.2-561</span>
<span class="go">   RStudio/1.0.153    RStudio/1.4.1106    RStudio/2022.07.1-554    RStudio/2023.12.1-402 (D)</span>

<span class="go">  Where:</span>
<span class="go">   D:  Default Module</span>

<span class="go">Use &quot;module spider&quot; to find all possible modules and extensions.</span>
<span class="go">Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching any of the &quot;keys&quot;.</span>
</pre></div>
</div>
</div></blockquote>
</div>
<ul>
<li><p>load R_packages</p></li>
<li><p>module load RStudio</p></li>
<li><p>run <code class="docutils literal notranslate"><span class="pre">rstudio</span> <span class="pre">&amp;</span></code> from the command line, and wait</p>
<blockquote>
<div><ul class="simple">
<li><p>it might take 5-10 minutes for RStudio to start, especially if you loaded R_packages as well, but once it starts, there should be no further delays</p></li>
<li><p>do <em>not</em> start RStudio through the graphical menu system in ThinLinc, this will not have access to loaded modules.</p></li>
<li><p>if it takes a long time and might be due to that you have saved a lot of workspace</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Example:</p>
<div class="admonition-demo demo admonition" id="demo-0">
<p class="admonition-title">Demo</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>module<span class="w"> </span>load<span class="w"> </span>R/4.1.1
<span class="gp">$ </span>module<span class="w"> </span>load<span class="w"> </span>RStudio/2023.12.1-402
<span class="gp">$ </span>rstudio<span class="w"> </span><span class="p">&amp;</span>
</pre></div>
</div>
<p>If you’re going to run heavier computations within RStudio then you have to remember that you need to do it inside an interactive session on one of the computation nodes, and not on a login node. But if you mostly want to use it as a pretty code editor then you can run it on the login node as well.</p>
<p>To use Rstudio on a compute node, start by asking SLURM for an interactive allocation (within the ThinLink session). E.g.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>interactive<span class="w"> </span>-A<span class="w"> </span>naiss2023-22-44<span class="w"> </span>-p<span class="w"> </span>devcore<span class="w"> </span>-n<span class="w"> </span><span class="m">4</span><span class="w"> </span>-t<span class="w"> </span><span class="m">10</span>:00
</pre></div>
</div>
</div>
<section id="on-bianca">
<h4>On Bianca<a class="headerlink" href="#on-bianca" title="Link to this heading"></a></h4>
<p>When logging onto Bianca, you are placed on a login node, which nowadays has 2 CPU and a few GB of RAM. This is sufficient for doing some light-weight calculations, but interactive sessions and batch jobs provide access to much more resources and should be requested via the SLURM system.</p>
<p>The desktop client version of ThinLinc does not work for Bianca. Instead you run and login to ThinLinc in the browser:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://bianca.uppmax.uu.se">https://bianca.uppmax.uu.se</a></p></li>
</ul>
</section>
</section>
</section>
<section id="on-hpc2n">
<h2>On HPC2N<a class="headerlink" href="#on-hpc2n" title="Link to this heading"></a></h2>
<p>Rstudio also exists on Kebnekaise but is only installed on the ThinLinc login nodes and not on the compute nodes (and also not on the regular login nodes accessible with SSH).
Thus, Rstudio should only be used for development and very light analysis, since there is no way to submit a job to the compute nodes.</p>
<p>Login to ThinLinc desktop application by providing the following</p>
<ul class="simple">
<li><p>server: kebnekaise-tl.hpc2n.umu.se</p></li>
<li><p>username</p></li>
<li><p>password</p></li>
</ul>
<p>Alternatively, you can use ThinLinc in the browser: <a class="reference external" href="https://kebnekaise-tl.hpc2n.umu.se:300/">https://kebnekaise-tl.hpc2n.umu.se:300/</a></p>
<p>When in ThinLinc, you can start Rstudio either from the menu (version 4.0.4) or from the command line. If you start it from the command line you first need to load R and its prerequisites, but you can pick between several versions this way.</p>
</section>
<section id="at-lunarc">
<h2>At LUNARC<a class="headerlink" href="#at-lunarc" title="Link to this heading"></a></h2>
<p>At LUNARC the recommended way to run RStudio is in Thinlinc with Desktop On Demand. All available versions are in the Applications menu under <code class="docutils literal notranslate"><span class="pre">Applications-R</span></code>.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/Cosmos-AppMenu-RStudio.png"><img alt="../_images/Cosmos-AppMenu-RStudio.png" src="../_images/Cosmos-AppMenu-RStudio.png" style="width: 350px;" />
</a>
</figure>
<p>There is a regular version and a “(CPU)” version for each release.
- Regular versions run an Intel 32-core node with a GPU partition, but the wall time limit is 48 hours.
- CPU versions run on an AMD 48-core CPU-only node, and allows users to set a wall time of up to 168 hours (7 days), at the cost of reduced graphical support.</p>
<p>There is no need to pre-load any modules before starting RStudio from the Desktop On Demand <code class="docutils literal notranslate"><span class="pre">Applications-R</span> <span class="pre">menu</span></code>.</p>
<p>If you run from the command line, you will need to load R/4.4.1 (check prerequisite versions of GCC and OpenMPI with <code class="docutils literal notranslate"><span class="pre">ml</span> <span class="pre">spider</span> <span class="pre">R/4.4.1</span></code>) and one of the RStudio modules above. Please only launch RStudio from one of the Desktop On Demand terminals, not the front-end terminal in the <code class="docutils literal notranslate"><span class="pre">Favorites</span></code> menu.</p>
<div class="dropdown admonition">
<p class="admonition-title"><code class="docutils literal notranslate"><span class="pre">ml</span> <span class="pre">avail</span></code> output at LUNARC as of October 21 2024</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[&lt;user&gt;@cosmos2 /]$ </span>ml<span class="w"> </span>avail<span class="w"> </span>RStudio

<span class="go">--------------------- /sw/easybuild_milan/modules/all/Core ---------------------</span>
<span class="go">     rstudio/2024.04.0-735    rstudio/2024.04.2-764 (D)</span>

<span class="go"> Where:</span>
<span class="go">  D:  Default Module</span>

<span class="go">If the avail list is too long consider trying:</span>

<span class="go">&quot;module --default avail&quot; or &quot;ml -d av&quot; to just list the default modules.</span>
<span class="go">&quot;module overview&quot; or &quot;ml ov&quot; to display the number of modules for each name.</span>

<span class="go">Use &quot;module spider&quot; to find all possible modules and extensions.</span>
<span class="go">Use &quot;module keyword key1 key2 ...&quot; to search for all possible modules matching</span>
<span class="go">any of the &quot;keys&quot;.</span>
</pre></div>
</div>
</div></blockquote>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="interactiveR.html" class="btn btn-neutral float-left" title="Interactive work on the compute nodes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="MLR.html" class="btn btn-neutral float-right" title="ML with R" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, UPPMAX &amp; HPC2N.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>